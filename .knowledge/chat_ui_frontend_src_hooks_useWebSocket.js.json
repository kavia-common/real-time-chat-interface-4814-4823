{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React hook named `useWebSocket` that manages WebSocket connections with features like auto-reconnect, exponential backoff, message parsing, and event handling. It includes utility functions for backoff delay calculation and inbound message parsing, along with status management and connection controls.", "external_files": ["../utils/env"], "external_methods": ["getWsUrl"], "published": ["useWebSocket"], "classes": [], "methods": [{"name": "computeBackoffDelay(attempt, baseDelayMs, maxDelayMs)", "description": "Calculates delay with exponential backoff and jitter based on attempt number, base delay, and maximum delay.", "scope": "", "scopeKind": ""}, {"name": "safeParseInbound(data)", "description": "Safely parses incoming WebSocket message data as JSON, falling back to raw text.", "scope": "", "scopeKind": ""}, {"name": "useWebSocket(options = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getWsUrl", "useMemo", "useRef", "useState", "useCallback", "useEffect"], "search_terms": ["useWebSocket hook", "WebSocket management", "exponential backoff", "message parsing", "reconnect logic", "React custom hook", "WebSocket status states"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "CONNECTED", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^  CONNECTED: \"connected\",$/", "language": "JavaScript", "kind": "property", "scope": "STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "CONNECTING", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^  CONNECTING: \"connecting\",$/", "language": "JavaScript", "kind": "property", "scope": "STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "DISCONNECTED", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^  DISCONNECTED: \"disconnected\",$/", "language": "JavaScript", "kind": "property", "scope": "STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "STATUS", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^const STATUS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "backoff", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^    backoff = { baseDelayMs: 500, maxDelayMs: 15_000 },$/", "language": "JavaScript", "kind": "class", "scope": "useWebSocket", "scopeKind": "class"}, {"_type": "tag", "name": "baseDelayMs", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^    backoff = { baseDelayMs: 500, maxDelayMs: 15_000 },$/", "language": "JavaScript", "kind": "property", "scope": "useWebSocket.backoff", "scopeKind": "class"}, {"_type": "tag", "name": "computeBackoffDelay", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^function computeBackoffDelay(attempt, baseDelayMs, maxDelayMs) {$/", "language": "JavaScript", "kind": "function", "signature": "(attempt, baseDelayMs, maxDelayMs)"}, {"_type": "tag", "name": "maxDelayMs", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^    backoff = { baseDelayMs: 500, maxDelayMs: 15_000 },$/", "language": "JavaScript", "kind": "property", "scope": "useWebSocket.backoff", "scopeKind": "class"}, {"_type": "tag", "name": "safeParseInbound", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^function safeParseInbound(data) {$/", "language": "JavaScript", "kind": "function", "signature": "(data)"}, {"_type": "tag", "name": "useWebSocket", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/hooks/useWebSocket.js", "pattern": "/^export function useWebSocket(options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(options = {})"}], "hash": "28102c515e45fa50807ca1cbb38571eb", "format-version": 4, "code-base-name": "chat_ui_frontend", "filename": "chat_ui_frontend/src/hooks/useWebSocket.js", "search-terms": [], "fields": [{"name": "CONNECTED: \"connected\",", "scope": "STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "CONNECTING: \"connecting\",", "scope": "STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "DISCONNECTED: \"disconnected\",", "scope": "STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "backoff = { baseDelayMs: 500, maxDelayMs: 15_000 },", "scope": "useWebSocket.backoff", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}