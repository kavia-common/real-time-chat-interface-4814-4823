{"is_source_file": true, "format": "JavaScript", "description": "This file provides environment utility helpers for resolving API and WebSocket endpoints in a React project. It includes functions for reading environment variables, normalizing URLs, inferring protocols, and constructing URLs for API, WebSocket, and frontend base URL, as well as environment and configuration summaries.", "external_files": [], "external_methods": ["process.env", "URL"], "published": ["getApiBase", "getWsUrl", "isProduction", "getEnvSummary", "apiUrl", "getHealthcheckPath"], "classes": [], "methods": [{"name": "readEnv(name)", "description": "Safely reads a Create React App style environment variable.", "scope": "", "scopeKind": ""}, {"name": "normalizeBase(url)", "description": "Normalizes a base URL by removing trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "getPageProtocol()", "description": "Infers protocol (http/https) from window, defaults to https if not available.", "scope": "", "scopeKind": ""}, {"name": "joinUrl(base, path)", "description": "Builds an absolute URL from a possibly relative base and path.", "scope": "", "scopeKind": ""}, {"name": "getPageHost()", "description": "Derives the host (hostname:port) from window.location, or returns empty string in non-browser envs.", "scope": "", "scopeKind": ""}, {"name": "getPageOrigin()", "description": "Derives the origin from window.location, or uses a default for SSR/tests.", "scope": "", "scopeKind": ""}, {"name": "getWsScheme()", "description": "Derives the websocket protocol (ws or wss) from page protocol.", "scope": "", "scopeKind": ""}, {"name": "getApiBase()", "description": "Computes a best-effort API base URL using environment variables or current origin.", "scope": "", "scopeKind": ""}, {"name": "getFrontendUrl()", "description": "Computes a best-effort front-end public URL using environment variables or current origin.", "scope": "", "scopeKind": ""}, {"name": "getWsResolution()", "description": "Resolves the WebSocket URL based on environment variables or current page location.", "scope": "", "scopeKind": ""}, {"name": "getWsUrl()", "description": "Returns the WebSocket endpoint absolute URL.", "scope": "", "scopeKind": ""}, {"name": "isProduction()", "description": "Returns true when REACT_APP_NODE_ENV is 'production'.", "scope": "", "scopeKind": ""}, {"name": "getWsResolutionMeta()", "description": "Returns structured environment information for WebSocket URL resolution.", "scope": "", "scopeKind": ""}, {"name": "getEnvSummary()", "description": "Provides a small snapshot of resolved environment values for debugging.", "scope": "", "scopeKind": ""}, {"name": "apiUrl(path = \"\")", "description": "Builds a full API URL from a given path, resolving against getApiBase().", "scope": "", "scopeKind": ""}, {"name": "getHealthcheckPath()", "description": "Returns the health check path configured via REACT_APP_HEALTHCHECK_PATH or defaults to '/health'.", "scope": "", "scopeKind": ""}], "calls": ["process.env", "window.location.protocol", "window.location.host", "window.location.origin", "URL"], "search-terms": ["env", "API URL", "WebSocket URL", "React environment variables", "URL normalization", "endpoint resolution", "public URL", "production mode"], "state": 2, "file_id": 13, "knowledge_revision": 41, "git_revision": "67cd1a21bf6f127415c08831eb58f20b19a97cc4", "revision_history": [{"27": ""}, {"40": "67cd1a21bf6f127415c08831eb58f20b19a97cc4"}, {"41": "67cd1a21bf6f127415c08831eb58f20b19a97cc4"}], "ctags": [{"_type": "tag", "name": "apiUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function apiUrl(path = \"\") {$/", "language": "JavaScript", "kind": "function", "signature": "(path = \"\")"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEnvSummary", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getEnvSummary() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getFrontendUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getFrontendUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getHealthcheckPath", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getHealthcheckPath() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPageHost", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getPageHost() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPageOrigin", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getPageOrigin() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPageProtocol", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getPageProtocol() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWsResolution", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getWsResolution() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWsResolutionMeta", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getWsResolutionMeta() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWsScheme", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getWsScheme() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWsUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getWsUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isProduction", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function isProduction() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "joinUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function joinUrl(base, path) {$/", "language": "JavaScript", "kind": "function", "signature": "(base, path)"}, {"_type": "tag", "name": "normalizeBase", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function normalizeBase(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "readEnv", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function readEnv(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}], "hash": "dba8d70c14bc5ac179a7b2ff54859b05", "format-version": 4, "code-base-name": "chat_ui_frontend", "filename": "chat_ui_frontend/src/utils/env.js"}