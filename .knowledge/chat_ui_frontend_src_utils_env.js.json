{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility helper functions for environment configuration, URL manipulation, and WebSocket setup in a React application. It includes functions to read environment variables, normalize URLs, derive protocol schemes, and generate full API and WebSocket URLs based on environment variables or window location.", "external_files": [], "external_methods": ["process.env"], "published": ["getApiBase", "getWsUrl", "isProduction", "getEnvSummary", "apiUrl", "getHealthcheckPath"], "classes": [], "methods": [{"name": "readEnv(name)", "description": "Safely reads an environment variable specific to Create React App, exposing variables prefixed with REACT_APP_.", "scope": "", "scopeKind": ""}, {"name": "normalizeBase(url)", "description": "Removes trailing slashes from a URL string.", "scope": "", "scopeKind": ""}, {"name": "getPageProtocol()", "description": "Determines the protocol (http or https) from the current window location or defaults to https.", "scope": "", "scopeKind": ""}, {"name": "joinUrl(base, path)", "description": "Constructs an absolute URL from a base and a path, handling slashes appropriately.", "scope": "", "scopeKind": ""}, {"name": "getPageHost()", "description": "Returns the host (hostname:port) from window.location or an empty string if in a non-browser environment.", "scope": "", "scopeKind": ""}, {"name": "getPageOrigin()", "description": "Returns the origin URL based on window.location or defaults to https://localhost:3000.", "scope": "", "scopeKind": ""}, {"name": "getWsScheme()", "description": "Determines the WebSocket scheme ('ws' or 'wss') based on the current page protocol.", "scope": "", "scopeKind": ""}, {"name": "getApiBase()", "description": "Computes the API base URL based on environment variables or window location, removing trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "getFrontendUrl()", "description": "Determines the frontend public URL based on environment variables or window location.", "scope": "", "scopeKind": ""}, {"name": "getWsUrl()", "description": "Builds the WebSocket URL based on environment variables or current location, with fallback schemes.", "scope": "", "scopeKind": ""}, {"name": "isProduction()", "description": "Checks if the app is running in production mode based on environment variable.", "scope": "", "scopeKind": ""}, {"name": "getEnvSummary()", "description": "Provides a snapshot of environment configurations for debugging.", "scope": "", "scopeKind": ""}, {"name": "apiUrl(path = \"\")", "description": "Builds a full API URL from a relative path, normalized against the API base URL.", "scope": "", "scopeKind": ""}, {"name": "getHealthcheckPath()", "description": "Returns the configured health check path, defaulting to '/health'.", "scope": "", "scopeKind": ""}], "calls": ["process.env", "normalizeBase", "getPageProtocol", "getPageHost", "getPageOrigin", "readEnv", "URL"], "search-terms": ["env.js", "React environment", "API URL", "WebSocket URL", "REACT_APP_ variables", "URL normalization", "getApiBase", "getWsUrl"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "apiUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function apiUrl(path = \"\") {$/", "language": "JavaScript", "kind": "function", "signature": "(path = \"\")"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEnvSummary", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getEnvSummary() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getFrontendUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getFrontendUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getHealthcheckPath", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getHealthcheckPath() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPageHost", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getPageHost() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPageOrigin", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getPageOrigin() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPageProtocol", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getPageProtocol() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWsScheme", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function getWsScheme() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWsUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function getWsUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isProduction", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^export function isProduction() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "joinUrl", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function joinUrl(base, path) {$/", "language": "JavaScript", "kind": "function", "signature": "(base, path)"}, {"_type": "tag", "name": "normalizeBase", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function normalizeBase(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "readEnv", "path": "/home/kavia/workspace/code-generation/real-time-chat-interface-4814-4823/chat_ui_frontend/src/utils/env.js", "pattern": "/^function readEnv(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}], "hash": "2b48608994076396be396af296455e29", "format-version": 4, "code-base-name": "chat_ui_frontend", "filename": "chat_ui_frontend/src/utils/env.js", "revision_history": [{"27": ""}]}